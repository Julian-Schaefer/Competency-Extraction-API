
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>preprocessing_utils.py &#8212; AWT-Project  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="machine_learning.py" href="machine_learning.html" />
    <link rel="prev" title="competency_extractor.py" href="competency_extractor.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <span class="target" id="module-app.preprocessing_utils"></span><section id="preprocessing-utils-py">
<h1>preprocessing_utils.py<a class="headerlink" href="#preprocessing-utils-py" title="Permalink to this heading">¶</a></h1>
<p>Contains utilities for preprocessing text.</p>
<dl class="py class">
<dt class="sig sig-object py" id="app.preprocessing_utils.PreprocessorGerman">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">app.preprocessing_utils.</span></span><span class="sig-name descname"><span class="pre">PreprocessorGerman</span></span><a class="headerlink" href="#app.preprocessing_utils.PreprocessorGerman" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides an interface for pre-processing course descriptions before parsing them into
the entity recognition algorithm.</p>
<dl class="py method">
<dt class="sig sig-object py" id="app.preprocessing_utils.PreprocessorGerman.convert_to_series">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">convert_to_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#app.preprocessing_utils.PreprocessorGerman.convert_to_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a list of course descriptions into a Pandas Series. Also remove any newline characters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>texts</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – A List of course descriptions</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The list of course descriptions as a Pandas Series with newline characters removed</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.preprocessing_utils.PreprocessorGerman.get_skills_from_file_as_json">
<span class="sig-name descname"><span class="pre">get_skills_from_file_as_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#app.preprocessing_utils.PreprocessorGerman.get_skills_from_file_as_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a “.csv”-file containing competencies/skills in EU-ESCO compatible format into a json string and preprocesses
the labels of each skill. The location of this file has to be specified by setting the environment variable “DATA_FILE”.
The resulting json string contains a dictionary. The keys are the concept-URIs. Each key has the following fields:
- conceptUri: str
- conceptType: str
- KnowledgeSkillCompetence: str
- preferredLabel: str
- altLabels: str
- preferredLabelPreprocessed: List[str]
- altLabelsPreprocessed: List[List[str]]</p>
<p>The last two fields do not appear as columns in the provided “.csv”-file. They are created within this method
using the preprocessing pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>json representation of the specified “.csv” file (using “DATA_FILE” environment variable) with added fields for the preprocessed labels</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.preprocessing_utils.PreprocessorGerman.join_tokenized_texts">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">join_tokenized_texts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#app.preprocessing_utils.PreprocessorGerman.join_tokenized_texts" title="Permalink to this definition">¶</a></dt>
<dd><p>Join tokenized texts into strings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>texts</strong> (<em>List</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em>) – List of tokenized texts</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of non tokenized texts</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.preprocessing_utils.PreprocessorGerman.lemmatize_morphys_fast">
<span class="sig-name descname"><span class="pre">lemmatize_morphys_fast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#app.preprocessing_utils.PreprocessorGerman.lemmatize_morphys_fast" title="Permalink to this definition">¶</a></dt>
<dd><p>Lemmatize a Series of tokenized course descriptions using the Morphys lookup table.
Compound words that are written using hyphen notation, that do not appear in the lookup table are first split
into their compounds, then the lemma for each compound is searched in the table, and finally the lemmas of
each compound are joined back together separated by hyphens.
If a token does not appear in the lookup table, the token itself is used as the lemma.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>texts</strong> (<em>pd.Series</em><em>[</em><em>pd.Series</em><em>[</em><em>str</em><em>]</em><em>]</em>) – A Series of tokenized course descriptions</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Series of tokenized course descriptions where each token is lemmatized</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series[pd.Series[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.preprocessing_utils.PreprocessorGerman.lowercase">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lowercase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#app.preprocessing_utils.PreprocessorGerman.lowercase" title="Permalink to this definition">¶</a></dt>
<dd><p>Lowercase a Series of tokenized course descriptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>texts</strong> (<em>pd.Series</em><em>[</em><em>pd.Series</em><em>[</em><em>str</em><em>]</em><em>]</em>) – A Series of tokenized course descriptions</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Series of tokenized course descriptions with each token lowercased</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series[pd.Series[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.preprocessing_utils.PreprocessorGerman.preprocess_texts">
<span class="sig-name descname"><span class="pre">preprocess_texts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#app.preprocessing_utils.PreprocessorGerman.preprocess_texts" title="Permalink to this definition">¶</a></dt>
<dd><p>Preprocesses a list of texts using the following pipeline:
- tokenize
- remove punctuation
- remove numeric tokens
- remove stopwords
- lemmatize using the morphys lemmatizer
- lowercase each token</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>texts</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – A list of texts</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The preprocessed texts</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[List[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.preprocessing_utils.PreprocessorGerman.remove_numeric_tokens">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">remove_numeric_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#app.preprocessing_utils.PreprocessorGerman.remove_numeric_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove numeric tokens from a Series of tokenized course descriptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>texts</strong> (<em>pd.Series</em><em>[</em><em>pd.Series</em><em>[</em><em>str</em><em>]</em><em>]</em>) – A Series of tokenized course descriptions</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Series of tokenized course descriptions with numeric tokens removed</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series[pd.Series[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.preprocessing_utils.PreprocessorGerman.remove_punctuation">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">remove_punctuation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#app.preprocessing_utils.PreprocessorGerman.remove_punctuation" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove punctuation from a series of tokenized course descriptions. If a token only consists of punctuation
characters it is removed entirely, unless the token is just one dot. In that case the token is kept.
Hyphens that do not appear at the start or end of a token are not removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>texts</strong> (<em>pd.Series</em><em>[</em><em>pd.Series</em><em>[</em><em>str</em><em>]</em><em>]</em>) – A Series of tokenized course descriptions</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Series of tokenized course descriptions with punctuation removed</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series[pd.Series[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.preprocessing_utils.PreprocessorGerman.remove_stopwords">
<span class="sig-name descname"><span class="pre">remove_stopwords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#app.preprocessing_utils.PreprocessorGerman.remove_stopwords" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove stopwords from a Series of tokenized course descriptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>texts</strong> (<em>pd.Series</em><em>[</em><em>pd.Series</em><em>[</em><em>str</em><em>]</em><em>]</em>) – A Series of tokenized course descriptions</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Series of tokenized course descriptions with stopwords removed</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series[pd.Series[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.preprocessing_utils.PreprocessorGerman.tokenize">
<span class="sig-name descname"><span class="pre">tokenize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#app.preprocessing_utils.PreprocessorGerman.tokenize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tokenize a Series of course descriptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>texts</strong> (<em>pd.Series</em><em>[</em><em>str</em><em>]</em>) – A Series of course descriptions</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Series of tokenized course descriptions, where each description is a Series by itself.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series[pd.Series[str]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="app.preprocessing_utils.add_nltk_data_path">
<span class="sig-prename descclassname"><span class="pre">app.preprocessing_utils.</span></span><span class="sig-name descname"><span class="pre">add_nltk_data_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#app.preprocessing_utils.add_nltk_data_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the directory “.pp
ltk_data” to the list of paths that the nltk library searches in for valid nltk models.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="app.preprocessing_utils.split_list_by_dot">
<span class="sig-prename descclassname"><span class="pre">app.preprocessing_utils.</span></span><span class="sig-name descname"><span class="pre">split_list_by_dot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_with_dot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#app.preprocessing_utils.split_list_by_dot" title="Permalink to this definition">¶</a></dt>
<dd><p>Split a list into multiple lists based on elements that equal “.”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>list_with_dot</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – A List of string that contains dots</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A List of sublists</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[List[str]]</p>
</dd>
</dl>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">AWT-Project</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="__init__.html">__init__.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="db.html">db.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">models.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="store.html">store.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="routes.html">routes.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="competency_extractor.html">competency_extractor.py</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">preprocessing_utils.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="machine_learning.html">machine_learning.py</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="competency_extractor.html" title="previous chapter">competency_extractor.py</a></li>
      <li>Next: <a href="machine_learning.html" title="next chapter">machine_learning.py</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Lu Kalkbrenner, Julian David Schäfer, Amir Mohammad.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.1.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/preprocessing_utils.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>